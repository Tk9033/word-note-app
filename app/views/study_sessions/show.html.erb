<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <%# 進捗状況を確認 %>
    <div class="mb-4">
      <p class="text-sm text-gray-600 text-right"><%= t('.progress_status', current: @session.current_index + 1, total: @session.card_order.size) %></p>
      <progress class="progress progress-primary w-full" value="<%= @session.current_index + 1 %>" max="<%= @session.card_order.size %>"></progress>
    </div>

    <%# 問題 %>
    <div class="card bg-base-100 shadow-xl mb-6 min-h-32">
    <div class="card-body">
        <h2 class="card-title"><%= t('.question_title') %></h2>
        <p class="text-lg whitespace-pre-wrap"><%= @card.question %></p>
    </div>
    </div>

    <%# 答え  %>
    <% if @reveal %>
    <div class="card bg-base-100 shadow-xl min-h-32">
        <div class="card-body">
        <h2 class="card-title"><%= t('.answer_title') %></h2>
        <p class="text-lg whitespace-pre-wrap"><%= @card.answer %></p>
        </div>
    </div>

    <%= form_with(model: @session, url: answer_deck_study_session_path(@deck, @session), method: :post, class: "mt-6 flex justify-center gap-4") do |f| %>
      <%= hidden_field_tag :card_id, @card.id %>
      <%= f.button t('.correct_button'), name: "correct", value: true, class: "btn btn-success" %>
      <%= f.button t('.incorrect_button'), name: "correct", value: false, class: "btn btn-error" %>
      <%= f.button t('.correct_button'), name: "correct", value: true, class: "btn btn-success" %>
    <% end %>
  <% else %>
    <div class="text-center">
      <%= link_to t('.reveal_button'), deck_study_session_path(@deck, @session, reveal: true), class: "btn btn-primary" %>
    </div>
  <% end %>

    <%# ナビゲーション %>
    <div class="mt-8 flex justify-between">
        <% if @session.current_index > 0 %>
        <%= button_to t('.back_button'), back_deck_study_session_path(@deck, @session), method: :post, class: "btn btn-ghost" %>
        <% else %>
        <div></div>
        <% end %>
        <%= link_to t('.result_button'), result_deck_study_session_path(@deck, @session), class: "btn btn-outline" %>
    </div>
  </div>
</div>